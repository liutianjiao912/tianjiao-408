# 二、知识小结：利用定积分求极限

## 一、基本思想与适用类型

### ✅ 核心内容

当 $n \to \infty$ 时，若表达式由 **$n$ 项相加或 $n$ 项相乘** 构成，且每一项中含有形如 $\frac{k}{n}$（其中 $k = 1,2,\dots,n$）的形式，则可考虑**转化为定积分**来求极限。

> 🔍 关键特征：
- 极限形式为 $n \to \infty$；
- 表达式是 $n$ 个项的和或积；
- 每一项含有 $\frac{k}{n}$，$k$ 从 1 到 $n$；
- 可通过提公因式、根式变形等方式使其满足定积分特征。

---

## 二、常用公式总结

### ✅ 1. $n$ 项相加的极限（黎曼和）

$$
\lim_{n \to \infty} \frac{1}{n} \sum_{i=1}^{n} f\left( \frac{i}{n} \right) = \int_0^1 f(x)\,dx
$$

> ⚠️ 注意：
- 分母为 $n$，表示“步长”$\Delta x = \frac{1}{n}$；
- $\frac{i}{n}$ 对应区间 $[0,1]$ 上的分割点；
- $f\left(\frac{i}{n}\right)$ 是函数值；
- 总和近似于定积分。

---

### ✅ 2. $n$ 项相乘的极限（取对数后转化为和）

$$
\lim_{n \to \infty} \sqrt[n]{f\left( \frac{1}{n} \right) f\left( \frac{2}{n} \right) \cdots f\left( \frac{n}{n} \right)} = \exp\left( \int_0^1 \ln f(x)\,dx \right)
$$

> 即：
$$
\lim_{n \to \infty} \prod_{i=1}^{n} f\left( \frac{i}{n} \right)^{1/n} = \exp\left( \int_0^1 \ln f(x)\,dx \right)
$$

> 🔍 推导思路：
- 对乘积取自然对数，得到：
  $$
  \ln \left( \prod_{i=1}^{n} f\left( \frac{i}{n} \right)^{1/n} \right) = \frac{1}{n} \sum_{i=1}^{n} \ln f\left( \frac{i}{n} \right)
  $$
- 再用黎曼和极限得：
  $$
  \to \int_0^1 \ln f(x)\,dx
  $$
- 最后指数还原即可。

---

## 三、典型例题解析

### ✅ 例 1：$n$ 项相加 —— 对数型

求极限：
$$
\lim_{n \to \infty} \frac{1}{n} \left[ \ln\left(1 + \frac{1}{n}\right) + \ln\left(1 + \frac{2}{n}\right) + \cdots + \ln\left(1 + \frac{n}{n}\right) \right]
$$

#### 解法：

令：
$$
f(x) = \ln(1 + x)
$$

则原式为：
$$
\lim_{n \to \infty} \frac{1}{n} \sum_{i=1}^{n} \ln\left(1 + \frac{i}{n}\right) = \int_0^1 \ln(1 + x)\,dx
$$

计算积分：
$$
\int_0^1 \ln(1 + x)\,dx = \left[ (1+x)\ln(1+x) - x \right]_0^1 = (2\ln 2 - 1) - (0) = 2\ln 2 - 1
$$

✅ 结果为 $2\ln 2 - 1$

---

### ✅ 例 2：$n$ 项相加 —— 三角函数型

求极限：
$$
\lim_{n \to \infty} \frac{\sin\frac{\pi}{n} + \sin\frac{2\pi}{n} + \cdots + \sin\frac{n\pi}{n}}{n}
$$

#### 解法：

注意：$\sin\frac{k\pi}{n} = \sin(\pi \cdot \frac{k}{n})$

令 $f(x) = \sin(\pi x)$，则：
$$
\lim_{n \to \infty} \frac{1}{n} \sum_{k=1}^{n} \sin\left( \pi \cdot \frac{k}{n} \right) = \int_0^1 \sin(\pi x)\,dx
$$

计算：
$$
\int_0^1 \sin(\pi x)\,dx = \left[ -\frac{1}{\pi} \cos(\pi x) \right]_0^1 = -\frac{1}{\pi} (\cos\pi - \cos 0) = -\frac{1}{\pi} (-1 - 1) = \frac{2}{\pi}
$$

✅ 结果为 $\frac{2}{\pi}$

---

### ✅ 例 3：部分式子不能直接用定积分公式

求极限：
$$
\lim_{n \to \infty} \frac{\sin\frac{\pi}{n} + \sin\frac{2\pi}{n} + \cdots + \sin\frac{n\pi}{n}}{n}
$$

> 此题与例 2 相同，但若题目中出现非连续或无法构造的情况，需用**夹逼定理**处理。

例如：
$$
\lim_{n \to \infty} \frac{1}{n} \sum_{k=1}^{n} \sin\left( \frac{k}{n} \right)
$$

虽然看似可用定积分，但若函数不满足条件，仍需谨慎判断。

> ✅ 实际上此极限仍为 $\int_0^1 \sin x\,dx = 1 - \cos 1$，但需验证收敛性。

---

### ✅ 例 4：$n$ 项相乘 —— 根式型

求极限：
$$
\lim_{n \to \infty} \frac{1}{n} \sqrt[n]{(n+1)(n+2)\cdots(n+n)}
$$

#### 解法：

先将根号提出：
$$
= \lim_{n \to \infty} \frac{1}{n} \left[ \prod_{k=1}^{n} (n+k) \right]^{1/n}
= \lim_{n \to \infty} \frac{1}{n} \left[ \prod_{k=1}^{n} n\left(1 + \frac{k}{n}\right) \right]^{1/n}
$$

$$
= \lim_{n \to \infty} \frac{1}{n} \left[ n^n \prod_{k=1}^{n} \left(1 + \frac{k}{n}\right) \right]^{1/n}
= \lim_{n \to \infty} \frac{1}{n} \cdot n \cdot \left[ \prod_{k=1}^{n} \left(1 + \frac{k}{n}\right) \right]^{1/n}
$$

$$
= \lim_{n \to \infty} \left[ \prod_{k=1}^{n} \left(1 + \frac{k}{n}\right) \right]^{1/n}
= \exp\left( \lim_{n \to \infty} \frac{1}{n} \sum_{k=1}^{n} \ln\left(1 + \frac{k}{n}\right) \right)
$$

令 $f(x) = \ln(1 + x)$，则：
$$
= \exp\left( \int_0^1 \ln(1 + x)\,dx \right) = \exp(2\ln 2 - 1) = e^{2\ln 2 - 1} = \frac{4}{e}
$$

> ❌ 错误！我们目标是求：
$$
\lim_{n \to \infty} \frac{1}{n} \sqrt[n]{(n+1)(n+2)\cdots(n+n)} = \lim_{n \to \infty} \frac{1}{n} \cdot \left[ \prod_{k=1}^{n} \left(1 + \frac{k}{n}\right) \right]^{1/n} \cdot n
$$

更正：

$$
= \lim_{n \to \infty} \left[ \prod_{k=1}^{n} \left(1 + \frac{k}{n}\right) \right]^{1/n}
= \exp\left( \int_0^1 \ln(1 + x)\,dx \right) = \exp(2\ln 2 - 1) = \frac{4}{e}
$$

但实际答案应为 $4$？重新检查。

> ✅ 正确解法：

$$
\lim_{n \to \infty} \frac{1}{n} \sqrt[n]{(n+1)(n+2)\cdots(n+n)} = \lim_{n \to \infty} \frac{1}{n} \cdot \left[ \prod_{k=1}^{n} \left(1 + \frac{k}{n}\right) \right]^{1/n} \cdot n
$$

其实：
$$
\sqrt[n]{(n+1)\cdots(n+n)} = \sqrt[n]{n^n \cdot \prod_{k=1}^{n} \left(1 + \frac{k}{n}\right)} = n \cdot \left[ \prod_{k=1}^{n} \left(1 + \frac{k}{n}\right) \right]^{1/n}
$$

所以：
$$
\frac{1}{n} \cdot \text{上式} = \left[ \prod_{k=1}^{n} \left(1 + \frac{k}{n}\right) \right]^{1/n} \to \exp\left( \int_0^1 \ln(1 + x)\,dx \right) = \frac{4}{e}
$$

但题目说结果为 4？可能是输入错误。

> ✅ 若题目为：
$$
\lim_{n \to \infty} \frac{1}{n} \sqrt[n]{(n+1)(n+2)\cdots(n+n)} = ?
$$

则结果应为 $\boxed{\frac{4}{e}}$，而非 4。

---

## 四、总结口诀

> **“$n$ 项相加看分母，$\frac{1}{n}$ 是关键；  
> $\frac{k}{n}$ 代入函数中，定积分来替代；  
> 相乘先取对数，再变和式用积分；  
> 特殊情况用夹逼，变形技巧要牢记。”**

---

### 🧠 学习建议

1. **掌握两类基本公式**：和式 → 积分，积式 → 对数 + 积分；
2. **熟练识别 $\frac{k}{n}$ 形式**；
3. **学会构造函数 $f(x)$**；
4. **对复杂表达式进行变形**（如提公因式、根式处理）；
5. **注意边界情况**，不可直接套用时改用夹逼定理。

