# 二、知识小结：变上限积分函数求导（含参数积分）

## 一、公式一：基本求导公式

### ✅ 核心内容

设 $F(x) = \int_{a(x)}^{b(x)} f(t)\,dt$，其中：
- 积分上下限 $a(x)$、$b(x)$ 是关于 $x$ 的函数；
- 被积函数 $f(t)$ 仅是 $t$ 的函数，与 $x$ 无关；

则其导数为：
$$
F'(x) = f(b(x)) \cdot b'(x) - f(a(x)) \cdot a'(x)
$$

> ⚠️ **适用条件**：
- 被积函数中不含 $x$，即 $f(t)$ 仅为 $t$ 的函数；
- 若被积函数中含有 $x$，且无法分离，则不能直接使用此公式。

---

### ✅ 题目特征

- 积分上下限至少有一个是关于 $x$ 的函数；
- 求该积分表达式的导数；
- 被积函数中未出现 $x$，或虽有但可视为常数。

---

### ✅ 解题步骤

1. 确定积分上下限函数 $a(x)$、$b(x)$；
2. 计算它们的导数 $a'(x)$、$b'(x)$；
3. 将 $b(x)$、$a(x)$ 代入 $f(t)$ 得到 $f(b(x))$、$f(a(x))$；
4. 代入公式计算导数。

---

### ✅ 例题演示

#### 示例 1：
求：
$$
\frac{d}{dx} \left( \int_0^{x^2} \sqrt{1 + t^3}\,dt \right)
$$

解：
- $a(x) = 0$，$b(x) = x^2$，$f(t) = \sqrt{1 + t^3}$
- $a'(x) = 0$，$b'(x) = 2x$
- $f(b(x)) = f(x^2) = \sqrt{1 + (x^2)^3} = \sqrt{1 + x^6}$

所以：
$$
\frac{d}{dx} \left( \int_0^{x^2} \sqrt{1 + t^3}\,dt \right) = \sqrt{1 + x^6} \cdot 2x - 0 = 2x\sqrt{1 + x^6}
$$

---

### ✅ 考试重点 / 易混淆点

- **重点**：常以计算题形式出现，分值约 5–10 分；
- **易错点**：
  - 忽略上下限函数的导数；
  - 错误地将 $f(t)$ 中的变量当作 $x$ 处理；
  - 使用公式时未确认被积函数是否仅含 $t$。

---

## 二、利用公式一求极限

### ✅ 题目类型

当遇到形如：
$$
\lim_{x \to 0} \frac{\int_{a(x)}^{b(x)} f(t)\,dt}{g(x)}
$$
且为 $\frac{0}{0}$ 型不定式时，可用**洛必达法则**结合公式一求解。

---

### ✅ 解题方法

1. 判断是否为 $\frac{0}{0}$ 型；
2. 对分子、分母分别求导：
   - 分子用公式一求导；
   - 分母直接求导；
3. 再次求极限。

---

### ✅ 例题演示

#### 示例 2：
求极限：
$$
\lim_{x \to 0} \frac{\int_0^{x^2} \sqrt{1 + t^3}\,dt}{x^6}
$$

解：
- 分子：$\int_0^{x^2} \sqrt{1 + t^3}\,dt$，令 $F(x) = \int_0^{x^2} \sqrt{1 + t^3}\,dt$
- 由公式一得：
  $$
  F'(x) = \sqrt{1 + (x^2)^3} \cdot 2x = 2x\sqrt{1 + x^6}
  $$

- 分母导数：$(x^6)' = 6x^5$

所以：
$$
\lim_{x \to 0} \frac{F(x)}{x^6} = \lim_{x \to 0} \frac{2x\sqrt{1 + x^6}}{6x^5} = \lim_{x \to 0} \frac{2\sqrt{1 + x^6}}{6x^4} = +\infty
$$

> ✅ 结果为无穷大。

---

### ✅ 考试重点 / 易混淆点

- **重点**：综合考查公式应用，可能出现于综合计算题中，分值约 8–15 分；
- **易错点**：
  - 混淆其他求极限方法（如等价无穷小替换）；
  - 忽视洛必达法则的适用条件；
  - 分子导数计算错误。

---

## 三、公式二：被积函数含 $x$ 且可分离的情况

### ✅ 核心内容

若被积函数为 $g(x)f(t)$，即 $x$ 可与 $t$ 分离，则：
$$
\left( \int_{a(x)}^{b(x)} g(x)f(t)\,dt \right)' = g'(x) \int_{a(x)}^{b(x)} f(t)\,dt + g(x) \left( \int_{a(x)}^{b(x)} f(t)\,dt \right)'
$$

> 即：将 $g(x)$ 提出作为外层函数，对内层积分使用公式一。

---

### ✅ 适用条件

- 被积函数可以写成 $g(x) \cdot f(t)$ 形式；
- $g(x)$ 是关于 $x$ 的函数，$f(t)$ 是关于 $t$ 的函数；
- 若无法分离 $x$ 与 $t$，则不能使用此公式。

---

### ✅ 例题演示

#### 示例 3：
求：
$$
\left( \int_0^{x} e^{xt} dt \right)'
$$

注意：$e^{xt}$ 无法分离 $x$ 与 $t$，不能用公式二！

改为：
$$
\left( \int_0^{x} x t\,dt \right)'
$$

此时 $g(x) = x$，$f(t) = t$，可分离。

解：
- $g'(x) = 1$
- $\int_0^x t\,dt = \frac{1}{2}x^2$
- $\left( \int_0^x t\,dt \right)' = x$（由公式一）

所以：
$$
\left( \int_0^x x t\,dt \right)' = 1 \cdot \frac{1}{2}x^2 + x \cdot x = \frac{1}{2}x^2 + x^2 = \frac{3}{2}x^2
$$

---

### ✅ 考试重点 / 易混淆点

- **重点**：常以计算题形式出现，分值约 5–10 分；
- **易错点**：
  - 误认为所有含 $x$ 的被积函数都可用公式二；
  - 未能识别“可分离”这一关键条件；
  - 混淆公式一与公式二的应用场景。

---

## 四、公式三：换元法处理复杂情况

### ✅ 核心内容

当被积函数含有 $x$ 且无法分离时（如 $e^{xt}$、$\sin(xt)$ 等），需使用**换元法**。

#### 步骤如下：

1. 设 $u = k(x,t)$，将 $x$ 与 $t$ 的关系引入新变量；
2. 求 $\frac{du}{dt}$；
3. 换元确定新的积分上下限，将 $dt$ 换为 $du$；
4. 依据公式二处理积分；
5. 将 $u$ 换回原样。

---

### ✅ 例题演示

#### 示例 4：
求：
$$
\left( \int_0^{x} e^{xt}\,dt \right)'
$$

解：
- 由于 $e^{xt}$ 含 $x$ 且无法分离，不能直接用公式一或二；
- 设 $u = xt$，则 $t = \frac{u}{x}$，$dt = \frac{du}{x}$
- 当 $t=0$，$u=0$；当 $t=x$，$u=x^2$
- 所以：
  $$
  \int_0^x e^{xt}\,dt = \int_0^{x^2} e^u \cdot \frac{du}{x} = \frac{1}{x} \int_0^{x^2} e^u\,du = \frac{1}{x}(e^{x^2} - 1)
  $$

再对结果求导：
$$
\left( \frac{e^{x^2} - 1}{x} \right)' = \frac{(2x e^{x^2}) \cdot x - (e^{x^2} - 1)}{x^2} = \frac{2x^2 e^{x^2} - e^{x^2} + 1}{x^2}
$$

---

### ✅ 考试重点 / 易混淆点

- **重点**：常以较难的计算题形式出现，分值约 8–15 分；
- **易错点**：
  - 换元过程出错（如上下限变换错误）；
  - 忽略变量替换后积分表达式的简化；
  - 与公式一、二混淆，误用简单公式。

---

## 五、总结口诀

> **“变上限积分求导记心头，上下限含 $x$ 要小心；  
> 公式一用前先看 $f(t)$ 是否只含 $t$；  
> 若含 $x$ 可分离，公式二来帮忙；  
> 若无法分离，换元法最灵光。”**

---

### 🧠 学习建议

1. **熟练掌握三种公式的适用条件**；
2. **多练典型题型**，尤其是含 $x$ 的复杂被积函数；
3. **注意区分“可分离”与“不可分离”情况**；
4. **学会灵活使用换元法**；
5. **结合洛必达法则解决极限问题**。

