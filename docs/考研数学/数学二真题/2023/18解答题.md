## 🎯 问题回顾

求函数 $f(x,y)=x e^{\cos y}+\frac{x^{2}}{2}$ 的极值。

---

## 第一部分：求驻点（临界点）

### 1.1 计算一阶偏导数

为了寻找函数的极值点，首先需要求出函数的一阶偏导数，并令其为零。

对 $x$ 求偏导：
$$
f_x(x,y) = \frac{\partial}{\partial x}\left(x e^{\cos y}+\frac{x^{2}}{2}\right) = e^{\cos y} + x
$$

对 $y$ 求偏导：
$$
f_y(x,y) = \frac{\partial}{\partial y}\left(x e^{\cos y}+\frac{x^{2}}{2}\right) = x e^{\cos y} (-\sin y) = -x e^{\cos y} \sin y
$$

### 1.2 解方程组求驻点

令偏导数为零，得到方程组：

$$
\begin{cases}
e^{\cos y} + x = 0 & \quad \text{(1)} \\
-x e^{\cos y} \sin y = 0 & \quad \text{(2)}
\end{cases}
$$

**求解步骤：**

1.  由方程 (1) 得：
    $$x = -e^{\cos y}$$
    注意：因为指数函数 $e^u > 0$ 恒成立，所以必有 **$x < 0$**，即 $x \ne 0$。

2.  将 $x$ 代入方程 (2)，或直接观察方程 (2)：
    由于 $x \ne 0$ 且 $e^{\cos y} \ne 0$，要使乘积为零，必须有：
    $$\sin y = 0$$

3.  解 $\sin y = 0$，得到：
    $$y = k\pi, \quad k \in \mathbb{Z}$$

4.  将 $y = k\pi$ 代回 $x = -e^{\cos y}$ 确定 $x$ 的值，分奇偶讨论：

    * **情况 A：当 $k$ 为偶数时**（设 $k=2n$），$\cos(2n\pi) = 1$。
        $$x = -e^1 = -e$$
        对应驻点集合为：**$P_1(-e, 2n\pi)$**

    * **情况 B：当 $k$ 为奇数时**（设 $k=2n+1$），$\cos((2n+1)\pi) = -1$。
        $$x = -e^{-1} = -\frac{1}{e}$$
        对应驻点集合为：**$P_2(-\frac{1}{e}, (2n+1)\pi)$**

---

## 第二部分：二阶导数判别法（Hessian 矩阵）

### 2.1 计算二阶偏导数

记 $A = f_{xx}, B = f_{xy}, C = f_{yy}$。

1.  **计算 $A = f_{xx}$**：
    $$f_{xx} = \frac{\partial}{\partial x}(e^{\cos y} + x) = 1$$

2.  **计算 $B = f_{xy}$**：
    $$f_{xy} = \frac{\partial}{\partial y}(e^{\cos y} + x) = e^{\cos y}(-\sin y) = -e^{\cos y}\sin y$$

3.  **计算 $C = f_{yy}$**：
    $$f_{yy} = \frac{\partial}{\partial y}(-x e^{\cos y} \sin y) = -x \left[ \frac{\partial}{\partial y}(e^{\cos y}) \cdot \sin y + e^{\cos y} \cdot \frac{\partial}{\partial y}(\sin y) \right]$$
    $$= -x \left[ e^{\cos y}(-\sin y)\sin y + e^{\cos y}\cos y \right]$$
    $$= -x e^{\cos y} (\cos y - \sin^2 y)$$

### 2.2 判别式 $D = AC - B^2$ 分析

判别法则回顾：
* 若 $AC - B^2 > 0$ 且 $A > 0$，则为极小值。
* 若 $AC - B^2 > 0$ 且 $A < 0$，则为极大值。
* 若 $AC - B^2 < 0$，则不是极值（为鞍点）。

#### ✅ 对驻点 $P_1(-e, 2n\pi)$ 进行判别

在此点处：$x = -e, \quad \sin(2n\pi) = 0, \quad \cos(2n\pi) = 1$。

* $A = 1$
* $B = -e^1 \cdot 0 = 0$
* $C = -(-e) \cdot e^1 \cdot (1 - 0) = e^2$

判别式：
$$
AC - B^2 = 1 \cdot e^2 - 0^2 = e^2 > 0
$$

由于 $AC - B^2 > 0$ 且 $A = 1 > 0$：
✅ **函数在点 $(-e, 2n\pi)$ 处取得极小值**。

---

#### ❌ 对驻点 $P_2(-\frac{1}{e}, (2n+1)\pi)$ 进行判别

在此点处：$x = -\frac{1}{e}, \quad \sin((2n+1)\pi) = 0, \quad \cos((2n+1)\pi) = -1$。

* $A = 1$
* $B = -e^{-1} \cdot 0 = 0$
* $C = -(-\frac{1}{e}) \cdot e^{-1} \cdot (-1 - 0) = \frac{1}{e} \cdot \frac{1}{e} \cdot (-1) = -\frac{1}{e^2}$

判别式：
$$
AC - B^2 = 1 \cdot \left(-\frac{1}{e^2}\right) - 0 = -\frac{1}{e^2} < 0
$$

由于 $AC - B^2 < 0$：
❌ **点 $(-\frac{1}{e}, (2n+1)\pi)$ 是鞍点，不是极值点**。

---

## 第三部分：计算极值数值

### 3.1 计算极小值

将极小值点 $x = -e, y = 2n\pi$ 代入原函数：

$$
f(-e, 2n\pi) = (-e) \cdot e^{\cos(2n\pi)} + \frac{(-e)^2}{2}
$$
$$
= (-e) \cdot e^1 + \frac{e^2}{2}
$$
$$
= -e^2 + \frac{e^2}{2} = -\frac{e^2}{2}
$$

---

## ✅ 最终结论

| 驻点坐标 $(x,y)$ | 判别式符号 $AC-B^2$ | $A$ 的符号 | 结论 |
| :--- | :---: | :---: | :--- |
| $(-e, 2n\pi)$ | $>$ 0 | $>$ 0 | **极小值** |
| $(-\frac{1}{e}, (2n+1)\pi)$ | $<$ 0 | N/A | 鞍点（非极值） |

函数的**极小值**为：
$$
-\frac{e^2}{2}
$$
（在点 $(-e, 2n\pi), n\in \mathbb{Z}$ 处取得）

函数**无极大值**。

---

## 📌 关键要点总结

1.  **方程组求解逻辑**：利用 $x = -e^{\cos y}$ 的形式，直接判断出 $x \neq 0$，从而将复杂的三角方程组简化为单纯求解 $\sin y = 0$。
2.  **分类讨论**：$y=k\pi$ 必须分为奇数和偶数两种情况，因为 $\cos y$ 的值在此时分别为 $-1$ 和 $1$，导致 $x$ 的值完全不同。
3.  **判别式的符号**：第二类驻点导致 $C < 0$，进而使 $AC - B^2 < 0$，这直接排除了极大值存在的可能性。

---

### Would you like me to...
为您生成一道包含**条件极值**（拉格朗日乘数法）的题目，来进一步练习多元函数极值的求解？