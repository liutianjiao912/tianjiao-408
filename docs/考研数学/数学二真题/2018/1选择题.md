这是一道关于**极限反求参数**的经典试题。此类题目通常涉及 $1^\infty$ 型极限，处理的核心工具是**取对数法**结合**泰勒公式（麦克劳林展开）**。

以下是详细的解题步骤。

---

## 🎯 问题回顾

已知极限：
$$
\lim_{x\rightarrow0}(e^{x}+ax^{2}+bx)^{\frac{1}{x^{2}}}=1
$$

求常数 $a, b$ 的值，并从以下选项中选择：
- (A) $a=\frac{1}{2},b=-1$
- (B) $a=-\frac{1}{2},b=-1$
- (C) $a=\frac{1}{2},b=1$
- (D) $a=-\frac{1}{2},b=1$

---

## 第一部分：极限类型的识别与变形

### 1.1 识别极限类型
当 $x \to 0$ 时，指数 $ \frac{1}{x^2} \to \infty $。
为了让极限存在且为 1，底数必须趋于 1。
$$
\lim_{x \to 0} (e^x + ax^2 + bx) = 1 + 0 + 0 = 1
$$
符合 $1^\infty$ 型不定式。

### 1.2 取对数化简
直接处理幂指函数较为困难，利用对数恒等式 $u^v = e^{v \ln u}$ 将其转化为分式极限。

令原极限为 $L=1$，两边取自然对数：
$$
\ln L = \ln(1) = 0
$$

即我们需要求解：
$$
\lim_{x \to 0} \frac{1}{x^2} \ln(e^{x}+ax^{2}+bx) = 0
$$

记该极限为 $I$，即：
$$
I = \lim_{x \to 0} \frac{\ln(e^{x}+bx+ax^{2})}{x^2} = 0
$$

---

## 第二部分：利用泰勒公式展开

为了精确分析 $x$ 的高阶无穷小，我们使用泰勒展开。

### 2.1 展开 $e^x$
根据麦克劳林公式，将 $e^x$ 展开到 $x^2$ 项（因为分母是 $x^2$）：
$$
e^x = 1 + x + \frac{1}{2}x^2 + o(x^2)
$$

### 2.2 代入对数内部
将 $e^x$ 代入 $\ln(\dots)$ 的真数部分：
$$
\begin{aligned}
\text{真数} &= (1 + x + \frac{1}{2}x^2 + o(x^2)) + bx + ax^2 \\
&= 1 + (1+b)x + \left(\frac{1}{2}+a\right)x^2 + o(x^2)
\end{aligned}
$$

### 2.3 展开 $\ln(1+u)$
利用等价无穷小或泰勒公式：$\ln(1+u) = u - \frac{1}{2}u^2 + o(u^2)$ （当 $u \to 0$）。
此处我们将整个含 $x$ 的部分看作 $u$：
$$
u = (1+b)x + \left(\frac{1}{2}+a\right)x^2 + o(x^2)
$$

代入展开式：
$$
\begin{aligned}
\ln(\text{真数}) &= \left[ (1+b)x + \left(\frac{1}{2}+a\right)x^2 \right] - \frac{1}{2}\left[ (1+b)x \right]^2 + o(x^2) \\
&= (1+b)x + \left(\frac{1}{2}+a\right)x^2 - \frac{1}{2}(1+b)^2 x^2 + o(x^2)
\end{aligned}
$$
*注：$u^2$ 展开时，交叉项和更高阶项均为 $o(x^2)$，只需保留 $x^2$ 的主项。*

整理合并同类项（$x$ 项和 $x^2$ 项）：
$$
\ln(\text{真数}) = (1+b)x + \left[ \frac{1}{2} + a - \frac{1}{2}(1+b)^2 \right]x^2 + o(x^2)
$$

---

## 第三部分：系数分析与求解

将整理后的分子代回极限表达式：

$$
I = \lim_{x \to 0} \frac{(1+b)x + \left[ a + \frac{1}{2} - \frac{1}{2}(1+b)^2 \right]x^2 + o(x^2)}{x^2} = 0
$$

拆分极限项：
$$
I = \lim_{x \to 0} \left( \frac{1+b}{x} + \left[ a + \frac{1}{2} - \frac{1}{2}(1+b)^2 \right] + \frac{o(x^2)}{x^2} \right) = 0
$$

为了使极限存在且等于 0，必须满足以下两个条件：

### 3.1 消除无穷大项 ($\frac{1}{x}$ 项)
若 $\frac{1+b}{x}$ 的系数不为 0，则当 $x \to 0$ 时极限为 $\infty$，不符合题意。
因此：
$$
1 + b = 0 \implies b = -1
$$

### 3.2 匹配极限值 (常数项)
在 $b = -1$ 的条件下，第一项消失。此时常数项必须等于题目给定的极限值 0。
将 $b = -1$ 代入 $x^2$ 的系数表达式：
$$
\text{系数} = a + \frac{1}{2} - \frac{1}{2}(1 + (-1))^2 = a + \frac{1}{2} - 0 = a + \frac{1}{2}
$$

由 $I=0$ 可知：
$$
a + \frac{1}{2} = 0 \implies a = -\frac{1}{2}
$$

---

## 第四部分：验证与结论

我们解得 $a = -\frac{1}{2}, b = -1$。

### 4.1 快速验证
将数值代入原极限内部检查：
$$
e^x + ax^2 + bx \approx (1 + x + \frac{1}{2}x^2) - \frac{1}{2}x^2 - x = 1
$$
此时 $\ln(1) = 0$，极限为 $e^0 = 1$。成立。

### 4.2 选项比对

- (A) $a=\frac{1}{2},b=-1$ ❌
- (B) $a=-\frac{1}{2},b=-1$ ✅
- (C) $a=\frac{1}{2},b=1$ ❌
- (D) $a=-\frac{1}{2},b=1$ ❌

---

## ✅ 最终答案

正确选项是 **(B)**。

$$
a = -\frac{1}{2}, \quad b = -1
$$

---

## 📌 关键考点总结

1.  **$1^\infty$ 型极限处理**：首选转化为 $e^{\lim \frac{\ln u}{v}}$ 或利用 $\lim u^v = e^{\lim v(u-1)}$。本题因要求解高阶无穷小系数，取对数后用泰勒公式最稳健。
2.  **泰勒展开的精度**：分母是 $x^2$，因此分子必须展开到 $x^2$ 项，任何低于 $x^2$ 次幂的项（如 $x$ 项）系数必须为 0，否则极限不存在。
3.  **复合函数展开**：在展开 $\ln(1+u)$ 时，注意 $u$ 本身包含 $x$ 和 $x^2$ 项，计算 $u^2$ 时不能漏掉常数系数的影响。