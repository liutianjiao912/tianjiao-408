## 🎯 问题回顾

设 $A, B$ 为 $n$ 阶矩阵，记 $r(X)$ 为矩阵的秩，$(X,Y)$ 表示分块矩阵，从下列选项中选择正确结论：

- (A) $r(A, AB) = r(A)$
- (B) $r(A, BA) = r(A)$
- (C) $r(A, B) = \max\{r(A), r(B)\}$
- (D) $r(A, B) = r(A^{T}, B^{T})$

---

## 第一部分：理论基础与核心工具

### 1.1 分块矩阵与初等变换

对于分块矩阵 $(A, B)$，它是由矩阵 $A$ 和 $B$ 横向拼按（列向量合并）而成的 $n \times 2n$ 矩阵。

**核心性质**：矩阵的初等列变换不改变矩阵的秩。
若存在矩阵 $P$（可逆），使得 $(A, B)P = (A, C)$，则 $r(A, B) = r(A, C)$。

特别是利用**广义初等列变换**：
$$
\begin{pmatrix} A & B \end{pmatrix} \begin{pmatrix} E & -P \\ 0 & E \end{pmatrix} = \begin{pmatrix} A & B - AP \end{pmatrix}
$$
这意味着，我们可以将左侧分块 $A$ 的列的线性组合加到右侧分块 $B$ 上，而不改变整体的秩。

### 1.2 秩的不等式性质

对于分块矩阵 $(A, B)$，其秩满足如下基本不等式：
$$
\max\{r(A), r(B)\} \le r(A, B) \le r(A) + r(B)
$$
且 $r(A, B) = r(A)$ 的**充要条件**是：矩阵 $B$ 的列向量组可以由 $A$ 的列向量组线性表示（即方程 $AX=B$ 有解）。

---

## 第二部分：深度解析选项 (A)

### 2.1 构造证明

我们需要验证是否恒有 $r(A, AB) = r(A)$。

**证明步骤如下：**

考虑分块矩阵 $(A, AB)$。我们利用初等列变换消去右侧的分块。
构造一个分块初等矩阵：
$$
P = \begin{pmatrix} E_n & -B \\ 0 & E_n \end{pmatrix}
$$
显然 $|P| \ne 0$，即 $P$ 可逆。

对 $(A, AB)$ 右乘 $P$（相当于执行列变换：第 2 列块减去第 1 列块右乘 $B$）：

$$
\begin{aligned}
(A, AB) \cdot \begin{pmatrix} E & -B \\ 0 & E \end{pmatrix} &= (A \cdot E + AB \cdot 0, \quad A \cdot (-B) + AB \cdot E) \\
&= (A, \quad -AB + AB) \\
&= (A, \quad O)
\end{aligned}
$$
其中 $O$ 为零矩阵。

### 2.2 结论推导

由于初等变换不改变矩阵的秩，故：
$$
r(A, AB) = r(A, O)
$$
显然，零矩阵 $O$ 不贡献任何秩，因此：
$$
r(A, O) = r(A)
$$
即：
$$
r(A, AB) = r(A)
$$

✅ **结论 (A) 恒成立**。

---

## 第三部分：排除错误选项

为了严谨，我们通过构造**反例**来排除其他选项。

### 3.1 分析选项 (B) $r(A, BA) = r(A)$

该命题意味着 $BA$ 的列向量总能被 $A$ 的列向量线性表示。这通常要求 $A$ 和 $B$ 可交换，或 $r(B)$ 受到限制，一般情况不成立。

**反例构造**：
取 $A = \begin{pmatrix} 0 & 1 \\ 0 & 0 \end{pmatrix}$， $B = \begin{pmatrix} 0 & 0 \\ 1 & 0 \end{pmatrix}$。

计算 $BA$：
$$
BA = \begin{pmatrix} 0 & 0 \\ 1 & 0 \end{pmatrix} \begin{pmatrix} 0 & 1 \\ 0 & 0 \end{pmatrix} = \begin{pmatrix} 0 & 0 \\ 0 & 1 \end{pmatrix}
$$

计算秩：
- $A$ 的秩：$r(A) = 1$（仅第2列非零）。
- 构造分块矩阵 $(A, BA)$：
  $$
  (A, BA) = \begin{pmatrix} 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 1 \end{pmatrix}
  $$
  显然该矩阵第 2 行和第 4 行线性无关，秩为 2。

**结论**：
$$
r(A, BA) = 2 \ne 1 = r(A)
$$
❌ **选项 (B) 错误**。

---

### 3.2 分析选项 (C) $r(A, B) = \max\{r(A), r(B)\}$

该命题认为分块矩阵的秩只取决于秩较大的那个子块。这忽略了 $A$ 和 $B$ 列向量线性无关的可能性。

**反例构造**：
取 $A = \begin{pmatrix} 1 & 0 \\ 0 & 0 \end{pmatrix}$， $B = \begin{pmatrix} 0 & 0 \\ 0 & 1 \end{pmatrix}$。

计算秩：
- $r(A) = 1$
- $r(B) = 1$
- $\max\{r(A), r(B)\} = 1$

构造分块矩阵 $(A, B)$：
$$
(A, B) = \begin{pmatrix} 1 & 0 & 0 & 0 \\ 0 & 0 & 0 & 1 \end{pmatrix}
$$
交换列后即为单位矩阵，显然秩为 2。

**结论**：
$$
r(A, B) = 2 \ne 1
$$
❌ **选项 (C) 错误**。

---

### 3.3 分析选项 (D) $r(A, B) = r(A^T, B^T)$

该命题试图将行分块与列分块混淆。
- $(A, B)$ 是 $n \times 2n$ 矩阵（列扩充）。
- $(A^T, B^T)$ 是 $n \times 2n$ 矩阵（$A^T$ 和 $B^T$ 的列扩充，相当于原矩阵 $A, B$ 的行拼接转置）。

**反例构造**：
取 $A = \begin{pmatrix} 1 \\ 0 \end{pmatrix}$， $B = \begin{pmatrix} 0 \\ 1 \end{pmatrix}$ （列向量，看作 $2 \times 1$ 矩阵）。

1.  计算 $r(A, B)$：
    $$
    (A, B) = \begin{pmatrix} 1 & 0 \\ 0 & 1 \end{pmatrix} \implies r(A, B) = 2
    $$

2.  计算 $r(A^T, B^T)$：
    $A^T = (1, 0)$， $B^T = (0, 1)$。
    $$
    (A^T, B^T) = \begin{pmatrix} 1 & 0 & 0 & 1 \end{pmatrix}
    $$
    这是一个 $1 \times 4$ 的矩阵，只有 1 行，故其秩最大为 1。
    $$
    r(A^T, B^T) = 1
    $$

**结论**：
$$
2 \ne 1
$$
❌ **选项 (D) 错误**。

---

## 第四部分：最终结论与总结

| 选项 | 表达式 | 判别 | 理由概要 |
| :--- | :--- | :---: | :--- |
| (A) | $r(A, AB)=r(A)$ | ✅ | $AB$ 的列是 $A$ 的列的线性组合，增加这些列不增加秩。 |
| (B) | $r(A, BA)=r(A)$ | ❌ | $BA$ 的列属于 $B$ 的列空间，未必在 $A$ 的列空间内。 |
| (C) | $r(A, B)=\max\{r(A),r(B)\}$ | ❌ | 仅当一个矩阵的列空间包含另一个时成立，一般情况下秩会叠加。 |
| (D) | $r(A, B)=r(A^T,B^T)$ | ❌ | 混淆了行秩与列扩充的维度变化。 |

通过严格的初等变换证明与反例验证，唯一成立的等式是 (A)。

✅ **正确答案是：(A)**

---

## 🧠 关键知识点复盘

1.  **矩阵乘法的列空间意义**：矩阵 $C = AB$ 的每一列，都是矩阵 $A$ 的列向量的线性组合。
    $$
    (AB)_{\text{col } j} = A \cdot (B)_{\text{col } j}
    $$
    因此，列空间 $\mathcal{C}(AB) \subseteq \mathcal{C}(A)$。

2.  **秩的包含性质**：若矩阵 $Y$ 的列向量组能由矩阵 $X$ 的列向量组线性表示，则：
    $$
    r(X, Y) = r(X)
    $$
    本题中 $Y=AB$，正好满足此条件。

3.  **做题技巧**：对于此类抽象矩阵秩的判定，**列变换法**（证明正确选项）和**特值反例法**（排除错误选项）是最高效的组合拳。