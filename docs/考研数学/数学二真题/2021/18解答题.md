这是一道关于函数性态分析的经典综合题，涉及**分段函数求导**、**凹凸性判定**以及**渐近线求解**。解决此类问题的关键在于准确地进行分段处理，并严格按照定义进行极限与导数的计算。

下面我将按照标准化步骤为您详细解析。

---

## 🎯 问题回顾

已知函数：
$$
f(x) = \frac{x|x|}{1+x}
$$
求该函数的：
1.  **凹凸区间与拐点**；
2.  **渐近线方程**。

---

## 第一部分：函数的定义域与分段表达

### 1.1 确定定义域
分母不能为零，即 $1+x \ne 0$，解得 $x \ne -1$。
定义域为：
$$
D_f = (-\infty, -1) \cup (-1, +\infty)
$$

### 1.2 去掉绝对值符号
根据 $x$ 的正负，将 $f(x)$ 写为分段函数形式：

$$
f(x) = 
\begin{cases}
\dfrac{-x^2}{1+x}, & x < 0 \text{ 且 } x \ne -1 \\
\\
\dfrac{x^2}{1+x}, & x \ge 0
\end{cases}
$$

> 💡 **策略**：后续的求导和极限计算都将基于这个分段形式进行。

---

## 第二部分：渐近线分析

渐近线主要分为三类：垂直渐近线、水平渐近线和斜渐近线。

### 2.1 垂直渐近线
**寻找间断点**：$x = -1$ 是函数的间断点。考察 $x \to -1$ 时的极限。

$$
\lim_{x \to -1} f(x) = \lim_{x \to -1} \frac{-x^2}{1+x}
$$

- 分子：$\lim_{x \to -1} (-x^2) = -(-1)^2 = -1 \ne 0$
- 分母：$\lim_{x \to -1} (1+x) = 0$

由于“非零/零”型极限为无穷大：
$$
\lim_{x \to -1} f(x) = \infty
$$
具体来说：
- $\lim_{x \to -1^-} \frac{-x^2}{1+x} = \frac{-1}{0^-} = +\infty$
- $\lim_{x \to -1^+} \frac{-x^2}{1+x} = \frac{-1}{0^+} = -\infty$

✅ **结论 1**：存在垂直渐近线 **$x = -1$**。

### 2.2 斜渐近线（或水平渐近线）
需分别讨论 $x \to +\infty$ 和 $x \to -\infty$ 的情况。

#### 情况 A：当 $x \to +\infty$ 时（使用 $f(x) = \frac{x^2}{1+x}$）

1.  **求斜率 $k_1$**：
    $$
    k_1 = \lim_{x \to +\infty} \frac{f(x)}{x} = \lim_{x \to +\infty} \frac{x^2}{x(1+x)} = \lim_{x \to +\infty} \frac{x^2}{x^2+x} = 1
    $$

2.  **求截距 $b_1$**：
    $$
    \begin{aligned}
    b_1 &= \lim_{x \to +\infty} [f(x) - k_1 x] = \lim_{x \to +\infty} \left( \frac{x^2}{1+x} - x \right) \\
    &= \lim_{x \to +\infty} \frac{x^2 - x(1+x)}{1+x} \\
    &= \lim_{x \to +\infty} \frac{x^2 - x - x^2}{1+x} \\
    &= \lim_{x \to +\infty} \frac{-x}{1+x} = -1
    \end{aligned}
    $$

✅ **结论 2**：当 $x \to +\infty$ 时，存在斜渐近线 **$y = x - 1$**。

#### 情况 B：当 $x \to -\infty$ 时（使用 $f(x) = \frac{-x^2}{1+x}$）

1.  **求斜率 $k_2$**：
    $$
    k_2 = \lim_{x \to -\infty} \frac{f(x)}{x} = \lim_{x \to -\infty} \frac{-x^2}{x(1+x)} = \lim_{x \to -\infty} \frac{-x^2}{x^2+x} = -1
    $$

2.  **求截距 $b_2$**：
    $$
    \begin{aligned}
    b_2 &= \lim_{x \to -\infty} [f(x) - k_2 x] = \lim_{x \to -\infty} \left( \frac{-x^2}{1+x} - (-1)x \right) \\
    &= \lim_{x \to -\infty} \left( \frac{-x^2}{1+x} + x \right) \\
    &= \lim_{x \to -\infty} \frac{-x^2 + x(1+x)}{1+x} \\
    &= \lim_{x \to -\infty} \frac{-x^2 + x + x^2}{1+x} \\
    &= \lim_{x \to -\infty} \frac{x}{1+x} = 1
    \end{aligned}
    $$

✅ **结论 3**：当 $x \to -\infty$ 时，存在斜渐近线 **$y = -x + 1$**。

---

## 第三部分：凹凸性与拐点分析

凹凸性取决于二阶导数 $f''(x)$ 的符号。我们需要分段求二阶导数。

### 3.1 当 $x > 0$ 时
此时 $f(x) = \dfrac{x^2}{1+x}$。

**求一阶导数 $f'(x)$**（商的求导法则）：
$$
\begin{aligned}
f'(x) &= \frac{(x^2)'(1+x) - x^2(1+x)'}{(1+x)^2} \\
&= \frac{2x(1+x) - x^2 \cdot 1}{(1+x)^2} \\
&= \frac{2x + 2x^2 - x^2}{(1+x)^2} = \frac{x^2 + 2x}{(1+x)^2}
\end{aligned}
$$

**求二阶导数 $f''(x)$**：
$$
\begin{aligned}
f''(x) &= \left( \frac{x^2 + 2x}{(1+x)^2} \right)' \\
&= \frac{(2x+2)(1+x)^2 - (x^2+2x) \cdot 2(1+x)}{(1+x)^4} \\
&\quad \text{（分子分母约去一个 } (1+x) \text{）} \\
&= \frac{(2x+2)(1+x) - 2(x^2+2x)}{(1+x)^3} \\
&= \frac{(2x + 2x^2 + 2 + 2x) - (2x^2 + 4x)}{(1+x)^3} \\
&= \frac{2x^2 + 4x + 2 - 2x^2 - 4x}{(1+x)^3} \\
&= \frac{2}{(1+x)^3}
\end{aligned}
$$

**符号分析**：
当 $x > 0$ 时，$(1+x)^3 > 0$，故 **$f''(x) > 0$**。
> 此时曲线是 **凹的（凹口向上，$\cup$）**。

### 3.2 当 $x < 0$ 且 $x \ne -1$ 时
此时 $f(x) = \dfrac{-x^2}{1+x}$。

观察发现，此区间的函数表达式即为 $x>0$ 时的表达式乘以 $-1$。根据导数的线性性质，二阶导数也互为相反数。
即：
$$
f''(x) = - \left( \frac{2}{(1+x)^3} \right) = \frac{-2}{(1+x)^3}
$$

**符号分析**：
1.  **在区间 $(-\infty, -1)$ 上**：
    $x < -1 \implies 1+x < 0 \implies (1+x)^3 < 0$。
    $$
    f''(x) = \frac{-2}{\text{负数}} > 0
    $$
    > 此时曲线是 **凹的（凹口向上，$\cup$）**。

2.  **在区间 $(-1, 0)$ 上**：
    $-1 < x < 0 \implies 1+x > 0 \implies (1+x)^3 > 0$。
    $$
    f''(x) = \frac{-2}{\text{正数}} < 0
    $$
    > 此时曲线是 **凸的（凹口向下，$\cap$）**。

### 3.3 拐点判定
考察分界点 $x = 0$：
- 在 $x = 0$ 的左侧邻域 $(-1, 0)$，曲线是凸的（$f'' < 0$）。
- 在 $x = 0$ 的右侧邻域 $(0, +\infty)$，曲线是凹的（$f'' > 0$）。
- 且 $f(0) = 0$，函数在 $x=0$ 处连续。

✅ **结论 4**：点 $(0, 0)$ 是曲线的 **拐点**。

---

## 第四部分：总结与最终结果

### 4.1 凹凸区间
根据 $f''(x)$ 的符号判定（注：这里采用同济大学教材定义，**凹**指 $\cup$，**凸**指 $\cap$）：

| 区间 | $f''(x)$ 的符号 | 凹凸性 | 几何形状 |
| :--- | :---: | :---: | :---: |
| $(-\infty, -1)$ | $+$ | **凹** | $\cup$ |
| $(-1, 0)$ | $-$ | **凸** | $\cap$ |
| $(0, +\infty)$ | $+$ | **凹** | $\cup$ |

**拐点坐标**：$(0, 0)$。

### 4.2 渐近线
1.  **垂直渐近线**：$x = -1$
2.  **斜渐近线**：
    - 当 $x \to +\infty$ 时，$y = x - 1$
    - 当 $x \to -\infty$ 时，$y = -x + 1$

---

## 📌 关键难点复盘

1.  **绝对值处理**：必须分段讨论，且注意分段后的导数计算不要混淆符号。
2.  **二阶导数化简**：在计算分式导数时，优先约分（如约去 $1+x$），能大幅减少计算量并降低出错率。
3.  **渐近线方向**：斜渐近线在 $+\infty$ 和 $-\infty$ 处的方程可能不同，本题中就是一个典型例子，必须分别计算极限。

✅ **解题完毕**