## 🎯 问题回顾

设二次型 $f(x_{1},x_{2},x_{3})=a(x_{1}^{2}+x_{2}^{2}+x_{3}^{2})+2x_{1}x_{2}+2x_{2}x_{3}+2x_{1}x_{3}$ 的正惯性指数为 1，负惯性指数为 2，求参数 $a$ 的取值范围。

选项：
- (A) $a>1$
- (B) $a<-2$
- (C) $-2<a<1$
- (D) $a=1$ 或 $a=-2$

---

## 第一部分：写出二次型的矩阵

二次型对应的实对称矩阵 $A$ 的元素 $a_{ij}$ 由以下规则确定：
- 对角线元素 $a_{ii}$ 是平方项 $x_i^2$ 的系数。
- 非对角线元素 $a_{ij}$ 是交叉项 $x_i x_j$ 系数的一半。

本题中：
- $x_1^2, x_2^2, x_3^2$ 的系数均为 $a$，故 $a_{11}=a_{22}=a_{33}=a$。
- $x_1 x_2, x_2 x_3, x_1 x_3$ 的系数均为 $2$，故 $a_{12}=a_{23}=a_{13}=1$（对称位置亦同）。

因此，矩阵 $A$ 为：
$$
A = \begin{pmatrix} a & 1 & 1 \\ 1 & a & 1 \\ 1 & 1 & a \end{pmatrix}
$$

---

## 第二部分：计算矩阵 $A$ 的特征值

正、负惯性指数分别对应于正特征值和负特征值的个数。因此我们需要求出 $A$ 的所有特征值。

### 2.1 利用特殊矩阵结构求解

矩阵 $A$ 可以写成：
$$
A = (a-1)E + \begin{pmatrix} 1 & 1 & 1 \\ 1 & 1 & 1 \\ 1 & 1 & 1 \end{pmatrix}
$$
设 $J = \begin{pmatrix} 1 & 1 & 1 \\ 1 & 1 & 1 \\ 1 & 1 & 1 \end{pmatrix}$。
- 矩阵 $J$ 的秩为 1，显然有特征值 $0, 0$。
- 根据迹（Trace）的性质，$\text{tr}(J) = 1+1+1 = 3$，故第三个特征值为 $3$。
- 因此 $J$ 的特征值为 $3, 0, 0$。

矩阵 $A$ 的特征值 $\lambda$ 与 $J$ 的特征值 $\mu$ 的关系为：$\lambda = (a-1) + \mu$。

由此得到 $A$ 的三个特征值：
1.  $\lambda_1 = (a-1) + 3 = a + 2$
2.  $\lambda_2 = (a-1) + 0 = a - 1$
3.  $\lambda_3 = (a-1) + 0 = a - 1$

---

## 第三部分：利用惯性指数确定范围

已知条件：
- **正惯性指数为 1**：即有 1 个正特征值。
- **负惯性指数为 2**：即有 2 个负特征值。

我们有特征值集合 $\{a+2, a-1, a-1\}$。
由于 $\lambda_2 = \lambda_3 = a-1$ 是重根，它们必须同号。
为了满足“2 个负特征值”的条件，这两个重根必须为负：
$$
a - 1 < 0 \implies a < 1
$$

此时，剩下的唯一一个特征值 $\lambda_1 = a+2$ 必须为正，以满足“1 个正特征值”的条件：
$$
a + 2 > 0 \implies a > -2
$$

综上所述，参数 $a$ 的取值范围为：
$$
-2 < a < 1
$$

---

## ✅ 最终答案：**(C)**

---

## 📌 关键要点总结

1.  **二次型矩阵构造**：交叉项系数记得除以 2 放在非对角位置。
2.  **特殊矩阵特征值**：形如 $\begin{pmatrix} a & b & b \\ b & a & b \\ b & b & a \end{pmatrix}$ 的矩阵，特征值为 $a+2b$（单重）和 $a-b$（双重）。记忆该结论可极大提高解题速度。
3.  **惯性指数定义**：
    - 正惯性指数 = 正特征值的个数。
    - 负惯性指数 = 负特征值的个数。