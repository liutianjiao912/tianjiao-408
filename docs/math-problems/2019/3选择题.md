## 🎯 问题回顾

判断下列哪个反常积分（广义积分）是**发散**的：

- (A) $\displaystyle \int_{0}^{+\infty}xe^{-x}dx$
- (B) $\displaystyle \int_{0}^{+\infty}xe^{-x^{2}}dx$
- (C) $\displaystyle \int_{0}^{+\infty}\frac{\arctan x}{1+x^{2}}dx$
- (D) $\displaystyle \int_{0}^{+\infty}\frac{x}{1+x^{2}}dx$

---

## 第一部分：逐项分析与计算

我们将利用定义（计算极限）的方法逐一检验各选项。

### 1.1 分析选项 (A)

$$
I_A = \int_{0}^{+\infty}xe^{-x}dx
$$

采用**分部积分法**。
令 $u = x, dv = e^{-x}dx$，则 $du = dx, v = -e^{-x}$。

$$
\begin{aligned}
\int xe^{-x}dx &= -xe^{-x} - \int -e^{-x}dx \\
&= -xe^{-x} - e^{-x} = -e^{-x}(x+1)
\end{aligned}
$$

代入上下限求广义积分：
$$
\begin{aligned}
I_A &= \lim_{t \to +\infty} \left[ -e^{-x}(x+1) \right]_{0}^{t} \\
&= \lim_{t \to +\infty} \left( -\frac{t+1}{e^t} - (-e^0(0+1)) \right) \\
&= \lim_{t \to +\infty} -\frac{t+1}{e^t} + 1
\end{aligned}
$$
由洛必达法则（或增长速度比较），$\displaystyle \lim_{t \to +\infty} \frac{t+1}{e^t} = 0$。
因此：
$$
I_A = 0 + 1 = 1
$$
✅ **选项 (A) 收敛。**

---

### 1.2 分析选项 (B)

$$
I_B = \int_{0}^{+\infty}xe^{-x^{2}}dx
$$

采用**凑微分法（换元法）**。
观察到 $x dx = \frac{1}{2} d(x^2)$。令 $u = x^2$。

$$
\begin{aligned}
\int xe^{-x^2}dx &= \frac{1}{2} \int e^{-u} du \\
&= -\frac{1}{2}e^{-u} = -\frac{1}{2}e^{-x^2}
\end{aligned}
$$

代入上下限求广义积分：
$$
\begin{aligned}
I_B &= \lim_{t \to +\infty} \left[ -\frac{1}{2}e^{-x^2} \right]_{0}^{t} \\
&= \lim_{t \to +\infty} \left( -\frac{1}{2}e^{-t^2} - (-\frac{1}{2}e^0) \right) \\
&= 0 + \frac{1}{2} = \frac{1}{2}
\end{aligned}
$$
✅ **选项 (B) 收敛。**

---

### 1.3 分析选项 (C)

$$
I_C = \int_{0}^{+\infty}\frac{\arctan x}{1+x^{2}}dx
$$

采用**凑微分法**。
观察到 $(\arctan x)' = \frac{1}{1+x^2}$，即 $\frac{dx}{1+x^2} = d(\arctan x)$。

$$
\begin{aligned}
I_C &= \int_{0}^{+\infty} \arctan x \, d(\arctan x) \\
&= \left[ \frac{1}{2}(\arctan x)^2 \right]_{0}^{+\infty}
\end{aligned}
$$

计算极限值：
- 当 $x \to +\infty$ 时，$\arctan x \to \frac{\pi}{2}$。
- 当 $x = 0$ 时，$\arctan x = 0$。

$$
I_C = \frac{1}{2} \left( \frac{\pi}{2} \right)^2 - 0 = \frac{\pi^2}{8}
$$
✅ **选项 (C) 收敛。**

---

### 1.4 分析选项 (D)

$$
I_D = \int_{0}^{+\infty}\frac{x}{1+x^{2}}dx
$$

采用**凑微分法**。
观察到 $x dx = \frac{1}{2} d(x^2) = \frac{1}{2} d(1+x^2)$。

$$
\begin{aligned}
\int \frac{x}{1+x^2} dx &= \frac{1}{2} \int \frac{d(1+x^2)}{1+x^2} \\
&= \frac{1}{2} \ln(1+x^2)
\end{aligned}
$$

代入上下限求广义积分：
$$
\begin{aligned}
I_D &= \lim_{t \to +\infty} \left[ \frac{1}{2} \ln(1+x^2) \right]_{0}^{t} \\
&= \lim_{t \to +\infty} \left( \frac{1}{2} \ln(1+t^2) - \frac{1}{2} \ln 1 \right) \\
&= \lim_{t \to +\infty} \frac{1}{2} \ln(1+t^2)
\end{aligned}
$$
当 $t \to +\infty$ 时，$\ln(1+t^2) \to +\infty$。
因此该极限不存在（为无穷大）。
❌ **选项 (D) 发散。**

> **💡 快速判断法（P-判别法推广）**：
> 对于 $\displaystyle \int_a^{+\infty} f(x) dx$，若 $x \to +\infty$ 时 $f(x) \sim \frac{C}{x^p}$：
> - 当 $p > 1$ 时，积分收敛；
> - 当 $p \le 1$ 时，积分发散。
> 
> 在选项 (D) 中，$\frac{x}{1+x^2} \sim \frac{x}{x^2} = \frac{1}{x}$，此时 $p=1$，故必发散。

---

## ✅ 最终答案

**正确选项是：(D)**

---

## 📌 关键步骤总结

1.  **计算验证**：对于每一个选项，尝试找出原函数并代入无穷限求极限，这是最稳妥的方法。
2.  **无穷小阶数估计（秒杀技巧）**：
    -   (A) $xe^{-x}$ 衰减速度极快（指数级），收敛。
    -   (B) $xe^{-x^2}$ 衰减速度极快（高斯函数），收敛。
    -   (C) 分母是 $x^2$，分子有界，整体衰减速度像 $\frac{1}{x^2}$ ($p=2>1$)，收敛。
    -   (D) 分子 $x$，分母 $x^2$，整体衰减速度像 $\frac{1}{x}$ ($p=1$)，发散。