这是一道涉及**多元函数微分法**、**一阶偏微分方程求解**以及**多元函数极值判定**的综合题目。解题的关键在于利用复合函数的求导法则建立 $g(x,y)$ 与 $f(u,v)$ 的关系，从而将偏微分方程转化为常微分方程（或直接积分形式）进行求解。

下面我将分步为您详细解析。

---

## 🎯 题目回顾

已知可微函数 $f(u,v)$ 满足：
1.  方程：$\frac{\partial f}{\partial u}-\frac{\partial f}{\partial v}=2(u-v)e^{-(u+v)}$
2.  条件：$f(u,0)=u^{2}e^{-u}$

求：
(I) 若 $g(x,y)=f(x,y-x)$，求 $\frac{\partial g(x,y)}{\partial x}$；
(II) $f(u,v)$ 的表达式及其极值。

---

## 第一部分：求解 $\frac{\partial g(x,y)}{\partial x}$

### 1.1 复合函数求导分析
令 $u = x, \quad v = y-x$。
根据题意，$g(x,y) = f(u, v)$。
我们需要计算 $\frac{\partial g}{\partial x}$，应用**多元复合函数求导法则（链式法则）**：

$$
\frac{\partial g}{\partial x} = \frac{\partial f}{\partial u} \cdot \frac{\partial u}{\partial x} + \frac{\partial f}{\partial v} \cdot \frac{\partial v}{\partial x}
$$

### 1.2 计算中间变量的导数
由 $u = x$ 和 $v = y-x$，可得偏导数：
$$
\frac{\partial u}{\partial x} = 1, \quad \frac{\partial v}{\partial x} = -1
$$

### 1.3 代入计算
将上述结果代入链式法则公式：
$$
\frac{\partial g}{\partial x} = \frac{\partial f}{\partial u} \cdot (1) + \frac{\partial f}{\partial v} \cdot (-1) = \frac{\partial f}{\partial u} - \frac{\partial f}{\partial v}
$$

### 1.4 利用已知方程转化
题目已知 $\frac{\partial f}{\partial u} - \frac{\partial f}{\partial v} = 2(u-v)e^{-(u+v)}$。
我们将右边的 $u, v$ 用 $x, y$ 替换：
- $u - v = x - (y-x) = 2x - y$
- $u + v = x + (y-x) = y$

代入得：
$$
\frac{\partial g}{\partial x} = 2(2x-y)e^{-y}
$$

✅ **结论 (I)：**
$$
\frac{\partial g(x,y)}{\partial x} = 2(2x-y)e^{-y}
$$

---

## 第二部分：求解 $f(u,v)$ 及其极值

### 2.1 求解 $f(u,v)$ 的表达式

**第一步：通过积分求 $g(x,y)$**
由 (I) 可知 $\frac{\partial g(x,y)}{\partial x} = 2(2x-y)e^{-y}$。
我们可以对 $x$ 进行积分来求 $g(x,y)$（此时将 $y$ 视为常数）：

$$
\begin{aligned}
g(x,y) &= \int 2(2x-y)e^{-y} dx \\
&= 2e^{-y} \int (2x-y) dx \\
&= 2e^{-y} (x^2 - xy) + \varphi(y)
\end{aligned}
$$
其中 $\varphi(y)$ 是关于 $y$ 的任意可微函数。

**第二步：回代变量求 $f(u,v)$**
回忆变换关系：$x = u, \quad y = u+v$。
将 $g(x,y)$ 变换回 $f(u,v)$：

$$
\begin{aligned}
f(u,v) &= 2e^{-(u+v)} [u^2 - u(u+v)] + \varphi(u+v) \\
&= 2e^{-(u+v)} (u^2 - u^2 - uv) + \varphi(u+v) \\
&= -2uv e^{-(u+v)} + \varphi(u+v)
\end{aligned}
$$

**第三步：利用边界条件确定 $\varphi$**
已知 $f(u,0) = u^2 e^{-u}$。
令 $v=0$，代入上式：
$$
f(u,0) = -2u(0) e^{-(u+0)} + \varphi(u+0) = \varphi(u)
$$
因此，$\varphi(u) = u^2 e^{-u}$。
这意味着对于任意变量 $t$，$\varphi(t) = t^2 e^{-t}$。
所以：
$$
\varphi(u+v) = (u+v)^2 e^{-(u+v)}
$$

**第四步：写出 $f(u,v)$ 最终表达式**
$$
\begin{aligned}
f(u,v) &= -2uv e^{-(u+v)} + (u+v)^2 e^{-(u+v)} \\
&= e^{-(u+v)} [ (u+v)^2 - 2uv ] \\
&= e^{-(u+v)} (u^2 + 2uv + v^2 - 2uv) \\
&= (u^2 + v^2)e^{-(u+v)}
\end{aligned}
$$

✅ **$f(u,v)$ 的表达式为：**
$$
f(u,v) = (u^2 + v^2)e^{-(u+v)}
$$

---

### 2.2 求 $f(u,v)$ 的极值

**第一步：求驻点**
计算 $f(u,v)$ 对 $u$ 和 $v$ 的偏导数，并令其为 0。
$$
\frac{\partial f}{\partial u} = 2u e^{-(u+v)} - (u^2+v^2)e^{-(u+v)} = e^{-(u+v)}(2u - u^2 - v^2)
$$
$$
\frac{\partial f}{\partial v} = 2v e^{-(u+v)} - (u^2+v^2)e^{-(u+v)} = e^{-(u+v)}(2v - u^2 - v^2)
$$

令偏导数为 0（因为 $e^{-(u+v)} \ne 0$，只需括号内为 0）：
$$
\begin{cases}
2u - u^2 - v^2 = 0 \quad \text{①} \\
2v - u^2 - v^2 = 0 \quad \text{②}
\end{cases}
$$
① - ② 得：$2u - 2v = 0 \implies u = v$。
代入 ①：$2u - 2u^2 = 0 \implies 2u(1-u) = 0$。
解得 $u=0$ 或 $u=1$。
因此，**驻点为 $P_1(0,0)$ 和 $P_2(1,1)$。**

**第二步：利用海森矩阵（Hessian Matrix）判定极值**
计算二阶偏导数：
$$
\begin{aligned}
A &= f_{uu} = \frac{\partial}{\partial u}[e^{-(u+v)}(2u-u^2-v^2)] \\
&= -e^{-(u+v)}(2u-u^2-v^2) + e^{-(u+v)}(2-2u) = e^{-(u+v)}(u^2+v^2-4u+2)
\end{aligned}
$$
同理利用对称性（或直接求导）：
$$
\begin{aligned}
B &= f_{uv} = \frac{\partial}{\partial v}[e^{-(u+v)}(2u-u^2-v^2)] \\
&= -e^{-(u+v)}(2u-u^2-v^2) + e^{-(u+v)}(-2v) = e^{-(u+v)}(u^2+v^2-2u-2v)
\end{aligned}
$$
$$
C = f_{vv} = e^{-(u+v)}(u^2+v^2-4v+2)
$$

**判别式 $\Delta = AC - B^2$：**

1.  **在点 $P_1(0,0)$ 处：**
    - $A = e^0(0+0-0+2) = 2$
    - $B = e^0(0+0-0-0) = 0$
    - $C = e^0(0+0-0+2) = 2$
    - $\Delta = 2 \times 2 - 0^2 = 4 > 0$，且 $A > 0$。
    - **结论：** $f(u,v)$ 在 $(0,0)$ 处取得**极小值**。
    - 极小值为 $f(0,0) = 0$。

2.  **在点 $P_2(1,1)$ 处：**
    - $A = e^{-2}(1+1-4+2) = 0$
    - $B = e^{-2}(1+1-2-2) = -2e^{-2}$
    - $C = e^{-2}(1+1-4+2) = 0$
    - $\Delta = 0 \times 0 - (-2e^{-2})^2 = -4e^{-4} < 0$。
    - **结论：** $(1,1)$ 不是极值点（是鞍点）。

---

## ✅ 最终总结

(I) $\displaystyle \frac{\partial g(x,y)}{\partial x} = 2(2x-y)e^{-y}$

(II) 函数表达式为：
$$
f(u,v) = (u^2 + v^2)e^{-(u+v)}
$$
极值情况：
- 在 $(0,0)$ 处取得**极小值 $0$**。
- 无极大值。