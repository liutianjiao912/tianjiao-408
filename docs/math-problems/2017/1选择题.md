## 🎯 问题回顾

**选择题**：
若函数
$$
f(x) = 
\begin{cases}
\dfrac{1-\cos\sqrt{x}}{ax}, & x>0 \\
b, & x\le 0
\end{cases}
$$
在 $x=0$ 处连续，则 ( )

(A) $ab=\frac{1}{2}$
(B) $ab=-\frac{1}{2}$
(C) $ab=0$
(D) $ab=2$

---

## 第一部分：连续性的定义与条件

### 1.1 连续性定义

函数 $f(x)$ 在点 $x = 0$ 处连续，当且仅当左右极限存在且等于函数值，即：
$$
\lim_{x \to 0^+} f(x) = \lim_{x \to 0^-} f(x) = f(0)
$$

### 1.2 确定 $f(0)$ 和左极限

当 $x \le 0$ 时，$f(x) = b$。
因此：
$$
f(0) = b
$$
$$
\lim_{x \to 0^-} f(x) = b
$$

要使函数连续，必须满足右极限 $\displaystyle \lim_{x \to 0^+} f(x) = b$。

---

## 第二部分：计算右极限

我们需要计算极限：
$$
L = \lim_{x \to 0^+} \frac{1-\cos\sqrt{x}}{ax}
$$

### ✅ 方法：等价无穷小代换

当 $u \to 0$ 时，我们有经典的等价无穷小关系：
$$
1 - \cos u \sim \frac{1}{2}u^2
$$

在本题中，令 $u = \sqrt{x}$。当 $x \to 0^+$ 时，$\sqrt{x} \to 0$，故：
$$
1 - \cos\sqrt{x} \sim \frac{1}{2}(\sqrt{x})^2 = \frac{1}{2}x
$$

将分子进行等价代换代入极限式（假设 $a \ne 0$）：

$$
\begin{aligned}
L &= \lim_{x \to 0^+} \frac{\frac{1}{2}x}{ax} \\
&= \lim_{x \to 0^+} \frac{1}{2a} \\
&= \frac{1}{2a}
\end{aligned}
$$

---

## 第三部分：建立方程与求解

根据连续性条件 $\displaystyle \lim_{x \to 0^+} f(x) = f(0)$，我们建立方程：

$$
\frac{1}{2a} = b
$$

对方程两边同时乘以 $a$，整理得：

$$
ab = \frac{1}{2}
$$

---

## 第四部分：选项分析

对比计算结果与选项：

- (A) $ab=\frac{1}{2}$  ✅
- (B) $ab=-\frac{1}{2}$
- (C) $ab=0$
- (D) $ab=2$

---

## ✅ 最终答案

**(A)**

---

## 📌 关键要点总结

1.  **分段函数连续性**：核心是利用 $\lim_{x \to 0^+} f(x) = f(0)$ 建立参数方程。
2.  **等价无穷小**：熟记 $1 - \cos \Box \sim \frac{1}{2}\Box^2$ 是解决此类三角函数极限题最快捷的方法。
3.  **计算细节**：注意 $\sqrt{x}$ 的平方是 $x$，这一步消去了分母中的 $x$，从而得到了常数极限。