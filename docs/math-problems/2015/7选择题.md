## 🎯 问题回顾

设矩阵：
$$
A = \begin{pmatrix}1 & 1 & 1 \\ 1 & 2 & a \\ 1 & 4 & a^{2}\end{pmatrix}, \quad
b = \begin{pmatrix}1 \\ d \\ d^{2}\end{pmatrix}
$$
若集合 $\Omega=\{1,2\}$，则线性方程组 $Ax=b$ 有**无穷多解**的充分必要条件为：

- (A) $a\notin\Omega, d\notin\Omega$
- (B) $a\notin\Omega, d\in\Omega$
- (C) $a\in\Omega, d\notin\Omega$
- (D) $a\in\Omega, d\in\Omega$

---

## 第一部分：系数矩阵行列式分析

### 1.1 唯一解的条件

线性方程组 $Ax=b$ 有**唯一解**的充要条件是系数矩阵 $A$ 的行列式不为零，即 $|A| \ne 0$。
若要求**无穷多解**，首先必须满足 $|A| = 0$（即 $A$ 不可逆）。

### 1.2 计算行列式 $|A|$

观察矩阵 $A$，利用行变换化简计算：
$$
|A| = \begin{vmatrix}1 & 1 & 1 \\ 1 & 2 & a \\ 1 & 4 & a^{2}\end{vmatrix}
$$

执行行变换 $r_2 - r_1$ 和 $r_3 - r_1$：
$$
|A| = \begin{vmatrix}1 & 1 & 1 \\ 0 & 1 & a-1 \\ 0 & 3 & a^{2}-1\end{vmatrix}
$$

按第一列展开：
$$
|A| = 1 \cdot \begin{vmatrix}1 & a-1 \\ 3 & (a-1)(a+1)\end{vmatrix}
$$

提取第二列的公因子 $(a-1)$：
$$
|A| = (a-1) \begin{vmatrix}1 & 1 \\ 3 & a+1\end{vmatrix} = (a-1) [ (a+1) - 3 ] = (a-1)(a-2)
$$

### 1.3 确定 $a$ 的取值范围

要使方程组**不具有唯一解**（即可能有无穷多解或无解），必须满足 $|A| = 0$：
$$
(a-1)(a-2) = 0 \implies a = 1 \text{ 或 } a = 2
$$

用集合语言描述，即：
$$
a \in \{1, 2\} \implies a \in \Omega
$$

> 💡 **中间结论**：若 $a \notin \Omega$，则 $|A| \ne 0$，方程组有唯一解。故排除选项 (A) 和 (B)。

---

## 第二部分：增广矩阵秩的分析

当 $a \in \Omega$ 时，需通过增广矩阵 $\bar{A} = (A|b)$ 进一步判断是有无穷多解还是无解。
根据 Kronecker-Capelli 定理：
- 若 $R(A) = R(A|b) < 3$，则有无穷多解。
- 若 $R(A) \ne R(A|b)$，则无解。

我们分别讨论 $a=1$ 和 $a=2$ 的情况。

### 2.1 情况一：当 $a = 1$ 时

代入 $a=1$，增广矩阵为：
$$
(A|b) = \begin{pmatrix}1 & 1 & 1 & 1 \\ 1 & 2 & 1 & d \\ 1 & 4 & 1 & d^{2}\end{pmatrix}
$$

执行行变换 $r_2 - r_1, r_3 - r_1$：
$$
\to \begin{pmatrix}1 & 1 & 1 & 1 \\ 0 & 1 & 0 & d-1 \\ 0 & 3 & 0 & d^{2}-1\end{pmatrix}
$$

继续消元 $r_3 - 3r_2$：
$$
\to \begin{pmatrix}1 & 1 & 1 & 1 \\ 0 & 1 & 0 & d-1 \\ 0 & 0 & 0 & (d^{2}-1) - 3(d-1)\end{pmatrix}
$$

化简 $R_3$ 的常数项：
$$
d^2 - 1 - 3d + 3 = d^2 - 3d + 2 = (d-1)(d-2)
$$

此时 $R(A) = 2$。要使方程组有解（即 $R(A|b) = R(A) = 2$），必须使最后一行全为 0：
$$
(d-1)(d-2) = 0 \implies d = 1 \text{ 或 } d = 2
$$
即 **$d \in \Omega$**。

### 2.2 情况二：当 $a = 2$ 时

代入 $a=2$，增广矩阵为：
$$
(A|b) = \begin{pmatrix}1 & 1 & 1 & 1 \\ 1 & 2 & 2 & d \\ 1 & 4 & 4 & d^{2}\end{pmatrix}
$$

注意到第 2 列和第 3 列完全相同，故 $R(A) = 2$。
执行行变换 $r_2 - r_1, r_3 - r_1$：
$$
\to \begin{pmatrix}1 & 1 & 1 & 1 \\ 0 & 1 & 1 & d-1 \\ 0 & 3 & 3 & d^{2}-1\end{pmatrix}
$$

同样执行 $r_3 - 3r_2$，得到相同的限制条件：
$$
d^2 - 1 - 3(d-1) = (d-1)(d-2) = 0
$$

要使方程组有无穷多解，必须满足：
$$
d = 1 \text{ 或 } d = 2
$$
即 **$d \in \Omega$**。

---

## 第三部分：选项分析与最终结论

综合上述分析：

1.  **必要性（行列式）**：方程组有无穷多解，首先要求 $|A|=0$，推导出 **$a \in \Omega$**。
2.  **充分性（秩的一致性）**：在 $a \in \Omega$ 的前提下，为保证 $R(A) = R(A|b)$（避免出现 $0 = \text{非零}$ 的无解情况），推导出 **$d \in \Omega$**。

| 选项 | 条件描述 | 结果 |
| :--- | :--- | :--- |
| (A) | $a\notin\Omega, d\notin\Omega$ | ❌ 唯一解 ($|A| \ne 0$) |
| (B) | $a\notin\Omega, d\in\Omega$ | ❌ 唯一解 ($|A| \ne 0$) |
| (C) | $a\in\Omega, d\notin\Omega$ | ❌ 无解 (会出现 $0 \cdot x = \text{非零}$) |
| (D) | $a\in\Omega, d\in\Omega$ | ✅ **无穷多解** |

---

## ✅ 最终答案：**(D) $a\in\Omega, d\in\Omega$**

---

## 📌 关键要点总结

1.  **Vandermonde 结构**：观察到矩阵 $A$ 和向量 $b$ 具有类似的幂次结构，暗示行列式计算会出现 $(a-1)(a-2)$ 和 $(d-1)(d-2)$ 形式的因子。
2.  **解的判定逻辑**：
    * $|A| \ne 0 \iff$ 唯一解。
    * $|A| = 0$ 且 $R(A) \ne R(A|b) \iff$ 无解。
    * $|A| = 0$ 且 $R(A) = R(A|b) \iff$ 无穷多解。
3.  **集合符号的转化**：题目巧妙地用集合 $\Omega=\{1,2\}$ 来代替具体的数值讨论，解题时只需将条件翻译为“属于”或“不属于”即可。