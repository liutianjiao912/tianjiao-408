## 🎯 问题回顾

**已知矩阵**：
$$
A=\begin{pmatrix}1&0&-1\\ 2&-1&1\\ -1&2&-5\end{pmatrix}
$$

**题目要求**：
寻找下三角可逆矩阵 $P$ 和上三角可逆矩阵 $Q$，使得 $PAQ$ 为对角矩阵。

**选项分析**：
我们需要从给定的选项中验证哪一组 $P, Q$ 满足条件 $PAQ = D$（对角矩阵）。

---

## 第一部分：解题思路与理论基础

### 1.1 矩阵乘法的几何意义（初等变换）

- **左乘矩阵 $P$**：相当于对 $A$ 进行**行变换**。
  - 题目要求 $P$ 为**下三角矩阵**，这意味着行变换是“向下”进行的（例如将第1行的倍数加到第2、3行），目的是消除主对角线**下方**的元素，使矩阵变为**上三角形式**。
- **右乘矩阵 $Q$**：相当于对 $A$ （或 $PA$）进行**列变换**。
  - 题目要求 $Q$ 为**上三角矩阵**，这意味着列变换是“向右”进行的（例如将第1列的倍数加到第2、3列），目的是消除主对角线**上方**的元素。

### 1.2 解题策略

我们可以直接通过**验证法**来解决此题，因为计算 $PAQ$ 是最稳妥的路径。
观察选项 (C)，其 $P$ 矩阵看起来像是为了消除 $A$ 的下三角元素而设计的，而 $Q$ 矩阵像是为了消除上三角元素设计的。我们将重点验证选项 **(C)**。

---

## 第二部分：详细计算与验证（以选项 C 为例）

**待验证选项 (C)**：
$$
P = \begin{pmatrix}1&0&0\\ 2&-1&0\\ -3&2&1\end{pmatrix}, \quad
Q = \begin{pmatrix}1&0&1\\ 0&1&3\\ 0&0&1\end{pmatrix}
$$

### 2.1 第一步：计算 $PA$（行变换）

我们要计算 $PA$，即用 $P$ 的每一行去乘 $A$ 的每一列。

$$
PA = \begin{pmatrix}1&0&0\\ 2&-1&0\\ -3&2&1\end{pmatrix} \begin{pmatrix}1&0&-1\\ 2&-1&1\\ -1&2&-5\end{pmatrix}
$$

**逐行计算过程**：

1.  **$PA$ 的第 1 行**：
    由 $P$ 的第 1 行 $(1, 0, 0)$ 决定，即保持 $A$ 的第 1 行不变。
    $$
    R_1 = 1 \cdot (1, 0, -1) = (1, 0, -1)
    $$

2.  **$PA$ 的第 2 行**：
    由 $P$ 的第 2 行 $(2, -1, 0)$ 决定。
    $$
    \begin{aligned}
    (PA)_{21} &= 2(1) + (-1)(2) + 0(-1) = 2 - 2 + 0 = 0 \\
    (PA)_{22} &= 2(0) + (-1)(-1) + 0(2) = 0 + 1 + 0 = 1 \\
    (PA)_{23} &= 2(-1) + (-1)(1) + 0(-5) = -2 - 1 + 0 = -3
    \end{aligned}
    $$
    > **结果**：第 2 行变为 $(0, 1, -3)$。

3.  **$PA$ 的第 3 行**：
    由 $P$ 的第 3 行 $(-3, 2, 1)$ 决定。
    $$
    \begin{aligned}
    (PA)_{31} &= (-3)(1) + 2(2) + 1(-1) = -3 + 4 - 1 = 0 \\
    (PA)_{32} &= (-3)(0) + 2(-1) + 1(2) = 0 - 2 + 2 = 0 \\
    (PA)_{33} &= (-3)(-1) + 2(1) + 1(-5) = 3 + 2 - 5 = 0
    \end{aligned}
    $$
    > **结果**：第 3 行变为 $(0, 0, 0)$。

**阶段性成果 $PA$**：
$$
PA = \begin{pmatrix} 1 & 0 & -1 \\ 0 & 1 & -3 \\ 0 & 0 & 0 \end{pmatrix}
$$
> 💡 **观察**：此时 $PA$ 已经是一个**上三角矩阵**，说明 $P$ 成功消除了下三角区域的非零元素。

---

### 2.2 第二步：计算 $(PA)Q$（列变换）

现在我们将上一步的结果 $PA$ 右乘 $Q$。

$$
(PA)Q = \begin{pmatrix} 1 & 0 & -1 \\ 0 & 1 & -3 \\ 0 & 0 & 0 \end{pmatrix} \begin{pmatrix}1&0&1\\ 0&1&3\\ 0&0&1\end{pmatrix}
$$

**逐列计算过程**：

1.  **结果的第 1 列**：
    $PA$ 乘以 $Q$ 的第 1 列 $(1, 0, 0)^T$，即取 $PA$ 的第 1 列。
    $$
    \text{Col}_1 = \begin{pmatrix} 1 \\ 0 \\ 0 \end{pmatrix}
    $$

2.  **结果的第 2 列**：
    $PA$ 乘以 $Q$ 的第 2 列 $(0, 1, 0)^T$，即取 $PA$ 的第 2 列。
    $$
    \text{Col}_2 = \begin{pmatrix} 0 \\ 1 \\ 0 \end{pmatrix}
    $$

3.  **结果的第 3 列**：
    $PA$ 乘以 $Q$ 的第 3 列 $(1, 3, 1)^T$。这是运算的关键：
    $$
    \begin{aligned}
    \text{Elem}_{13} &= 1(1) + 0(3) + (-1)(1) = 1 + 0 - 1 = 0 \\
    \text{Elem}_{23} &= 0(1) + 1(3) + (-3)(1) = 0 + 3 - 3 = 0 \\
    \text{Elem}_{33} &= 0(1) + 0(3) + 0(1) = 0
    \end{aligned}
    $$
    > **结果**：第 3 列变为 $(0, 0, 0)^T$。

---

### 2.3 最终结果验证

$$
PAQ = \begin{pmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 0 \end{pmatrix}
$$

- 该矩阵除对角线元素外，其余元素均为 0。
- **结论**：这是一个**对角矩阵**。

---

## 第三部分：可逆性与三角性检查

为了确保选项完全正确，我们需要检查 $P$ 和 $Q$ 是否满足题目条件。

1.  **检查 $P$**：
    $$
    P = \begin{pmatrix}1&0&0\\ 2&-1&0\\ -3&2&1\end{pmatrix}
    $$
    - **下三角**：是（主对角线右上角全为0）。
    - **可逆**：主对角线元素乘积即为行列式。$|P| = 1 \times (-1) \times 1 = -1 \ne 0$。**是**。

2.  **检查 $Q$**：
    $$
    Q = \begin{pmatrix}1&0&1\\ 0&1&3\\ 0&0&1\end{pmatrix}
    $$
    - **上三角**：是（主对角线左下角全为0）。
    - **可逆**：$|Q| = 1 \times 1 \times 1 = 1 \ne 0$。**是**。

---

## 第四部分：为什么排除其他选项？

为了逻辑严密，简要说明其他选项为何不合适：

-   **(A)** $P$ 是单位矩阵，即只做列变换。$AQ$ 的第一列仍是 $(1, 2, -1)^T$，不是对角矩阵。
-   **(B)** $Q$ 是单位矩阵，即只做行变换。$PA$ 的第一行是 $(1, 0, -1)$，不是对角矩阵。
-   **(D)** 虽然形式接近，但在高斯消元过程中，要消除下三角元素，通常需要减去上方行的倍数或加上相反数。选项 (C) 的 $P$ 准确对应了消元所需的系数（例如第2行操作是 $2r_1 - r_2$ 等效变换），而 (D) 的数值无法产生零元素。

---

## ✅ 最终答案

经过详细的矩阵乘法计算与性质验证，选项 **(C)** 中的 $P$ 和 $Q$ 能够成功将矩阵 $A$ 转化为对角矩阵。

**正确答案是：(C)**