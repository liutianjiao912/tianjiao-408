## 🎯 问题回顾

设实二次型：
$$
f(x_{1},x_{2},x_{3})=(x_{1}-x_{2}+x_{3})^{2}+(x_{2}+x_{3})^{2}+(x_{1}+ax_{3})^{2}
$$
其中 $a$ 是参数。需完成以下任务：
(I) 求方程 $f(x_{1},x_{2},x_{3})=0$ 的解；
(II) 求 $f(x_{1},x_{2},x_{3})$ 的规范形。

---

## 第一部分：求解 $f(x)=0$

### 1.1 分析方程性质
给定的二次型 $f$ 是三个实数平方式的和。在实数域中，几个数的平方和为零，当且仅当这几个数同时为零。
即 $f(x_{1},x_{2},x_{3})=0$ 等价于线性方程组：

$$
\begin{cases}
x_{1}-x_{2}+x_{3}=0 & \text{①} \\
x_{2}+x_{3}=0 & \text{②} \\
x_{1}+ax_{3}=0 & \text{③}
\end{cases}
$$

### 1.2 解线性方程组
由方程 ② 可得：
$$
x_{2} = -x_{3}
$$

将 $x_{2} = -x_{3}$ 代入方程 ①：
$$
x_{1} - (-x_{3}) + x_{3} = 0 \implies x_{1} + 2x_{3} = 0 \implies x_{1} = -2x_{3}
$$

现在我们将 $x_{1} = -2x_{3}$ 代入方程 ③ 进行验证：
$$
-2x_{3} + ax_{3} = 0 \implies (a-2)x_{3} = 0
$$

### 1.3 分类讨论参数 $a$
根据上式 $(a-2)x_{3} = 0$，我们需要对 $a$ 进行分类讨论：

1.  **当 $a \neq 2$ 时**：
    由于 $a-2 \neq 0$，则必须有 $x_{3} = 0$。
    进而 $x_{2} = -0 = 0$， $x_{1} = -2(0) = 0$。
    此时方程只有零解。

2.  **当 $a = 2$ 时**：
    此时式子变为 $0 \cdot x_{3} = 0$， $x_{3}$ 可以取任意实数。
    令 $x_{3} = k$ (其中 $k$ 为任意常数)，则：
    $$
    x_{2} = -k, \quad x_{1} = -2k
    $$
    写成向量形式为 $x = k(-2, -1, 1)^T$。

### 1.4 结论 (I)
-   当 $a \neq 2$ 时，解为 $\begin{pmatrix} x_1 \\ x_2 \\ x_3 \end{pmatrix} = \begin{pmatrix} 0 \\ 0 \\ 0 \end{pmatrix}$；
-   当 $a = 2$ 时，解为 $\begin{pmatrix} x_1 \\ x_2 \\ x_3 \end{pmatrix} = k \begin{pmatrix} -2 \\ -1 \\ 1 \end{pmatrix}$，其中 $k$ 为任意常数。

---

## 第二部分：求 $f$ 的规范形

### 2.1 确定惯性指数的方法
规范形由二次型的正惯性指数 $p$ 和负惯性指数 $q$ 决定，形式为 $y_1^2 + \dots + y_p^2 - y_{p+1}^2 - \dots - y_{p+q}^2$。

观察原二次型表达式：
$$
f = (\dots)^2 + (\dots)^2 + (\dots)^2
$$
这是一个非负实数的和，因此对于任意实数 $x_1, x_2, x_3$，都有 $f \ge 0$。这说明该二次型是**半正定**的。
-   这意味着**负惯性指数 $q = 0$**。
-   **正惯性指数 $p$ 等于二次型的秩 $r$**。

### 2.2 利用解空间维数求秩
线性方程组 $Ax=0$ 的解空间维数 $s$ 与矩阵秩 $r$ 的关系为 $r = n - s$（这里 $n=3$）。
$f(x)=0$ 的解即为 $Ax=0$ 的解。

利用第一部分的结论：

1.  **当 $a \neq 2$ 时**：
    方程 $f(x)=0$ 只有零解，解空间维数 $s = 0$。
    所以秩 $r = 3 - 0 = 3$。
    正惯性指数 $p = 3$，负惯性指数 $q = 0$。
    **规范形为**：$y_1^2 + y_2^2 + y_3^2$。

2.  **当 $a = 2$ 时**：
    方程 $f(x)=0$ 有非零解，解向量依赖于一个自由变量 $k$，解空间维数 $s = 1$。
    所以秩 $r = 3 - 1 = 2$。
    正惯性指数 $p = 2$，负惯性指数 $q = 0$。
    **规范形为**：$y_1^2 + y_2^2$。

### 2.3 结论 (II)

-   当 $a \neq 2$ 时，规范形为 $y_1^2 + y_2^2 + y_3^2$；
-   当 $a = 2$ 时，规范形为 $y_1^2 + y_2^2$。

---

## ✅ 最终答案

(I) 方程 $f(x_{1},x_{2},x_{3})=0$ 的解为：
-   若 $a \neq 2$，解为 $\begin{pmatrix} 0 \\ 0 \\ 0 \end{pmatrix}$；
-   若 $a = 2$，解为 $k \begin{pmatrix} -2 \\ -1 \\ 1 \end{pmatrix}$ （$k$ 为任意常数）。

(II) 二次型 $f$ 的规范形为：
-   若 $a \neq 2$，规范形为 $y_1^2 + y_2^2 + y_3^2$；
-   若 $a = 2$，规范形为 $y_1^2 + y_2^2$。

---

## 📌 关键步骤总结

1.  **平方和性质**：利用实数平方和为零等价于各项均为零，将二次型方程转化为线性方程组求解。
2.  **分类讨论**：敏锐捕捉到方程求解过程中 $(a-2)x_3=0$ 这一关键点，对 $a$ 进行分类讨论。
3.  **秩与规范形**：利用半正定性质（平方和）直接推断负惯性指数为 0。利用秩-零度定理（秩 + 解空间维数 = 变量个数）快速确定正惯性指数，避免了繁琐的配方或初等变换运算。