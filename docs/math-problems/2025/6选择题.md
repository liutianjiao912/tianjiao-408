这是一道结合了**物理学（万有引力、功）**与**微积分（定积分应用）**的经典题目。解题的关键在于正确分解力的方向，找出沿运动路径方向上的分力，或者利用势能的变化来求解。

下面我将分步为您详细解析。

---

## 🎯 题目回顾

**场景描述**：
* 固定点 $Q$：坐标 $(0,1)$，质量 $M=1$（单位质量）。
* 移动点 $P$：坐标 $(x,0)$，质量 $m=1$（单位质量）。
* 运动路径：$P$ 从 $(0,0)$ 沿 $x$ 轴正向移动到 $(1,0)$。
* 已知条件：引力常量为 $G$。

**求**：克服引力所做的功 $W$。

---

## 第一部分：几何与受力分析

### 1.1 距离与引力大小
设质点 $P$ 运动到 $x$ 轴上的某点 $(x,0)$ 时（其中 $0 \le x \le 1$）：
* $P$ 与 $Q$ 之间的距离 $r$ 为：
    $$
    r = \sqrt{(x-0)^2 + (0-1)^2} = \sqrt{x^2 + 1}
    $$

* 根据万有引力定律 $F = G\frac{Mm}{r^2}$，由于 $M=1, m=1$，此时 $P$ 受到的引力大小 $|F|$ 为：
    $$
    |F| = \frac{G}{r^2} = \frac{G}{x^2 + 1}
    $$
    引力的方向是指向点 $Q$ 的。



### 1.2 力的分解（关键步骤）
题目要求计算“克服引力所做的功”。
质点 $P$ 沿 $x$ 轴水平向右移动，位移元素为 $dx$。
引力 $\vec{F}$ 指向 $Q(0,1)$，即指向左上方。引力阻碍 $P$ 向右运动的分量是其**水平分量**。

设引力 $\vec{F}$ 与 $x$ 轴负方向的夹角为 $\theta$（或者设 $\vec{F}$ 与 $x$ 轴的夹角为 $\pi - \theta$）。
观察三角形 $\triangle OPQ$，可知：
$$
\cos \theta = \frac{\text{底边}}{\text{斜边}} = \frac{x}{\sqrt{x^2+1}}
$$

引力在 $x$ 轴方向上的分力 $F_x$（指向原点，阻碍运动）：
$$
F_x = |F| \cdot \cos \theta = \frac{G}{x^2+1} \cdot \frac{x}{\sqrt{x^2+1}}
$$
整理得：
$$
F_x = \frac{Gx}{(x^2+1)^{\frac{3}{2}}}
$$

> 💡 **物理意义**：垂直于运动方向的分力（$y$ 轴分量）不做功，只有平行于运动方向的分力才做功。克服引力做功，外力必须与引力的水平阻碍分量大小相等、方向相反。

---

## 第二部分：功的积分计算

### 2.1 功的定义
变力做功的公式为：
$$
W = \int_{a}^{b} F_{\text{克服}}(x) \, dx
$$
其中 $F_{\text{克服}}(x)$ 即为为了维持运动所需施加的外力，其大小等于引力的水平分量 $F_x$。

### 2.2 建立积分式
将 $F_{\text{克服}}(x) = \frac{Gx}{(x^2+1)^{\frac{3}{2}}}$ 代入积分公式，积分区间为 $x$ 从 $0$ 到 $1$：

$$
W = \int_{0}^{1} \frac{Gx}{(x^2+1)^{\frac{3}{2}}} \, dx
$$

---

## 第三部分：选项分析与验证

我们来对比计算结果与题目选项：

* **(A)** $\int_{0}^{1}\frac{G}{x^{2}+1}dx$：这是直接对引力大小 $|F|$ 积分，忽略了方向，**错误**。
* **(B)** $\int_{0}^{1}\frac{Gx}{(x^{2}+1)^{\frac{3}{2}}}dx$：这正是我们推导出的水平分力积分，**正确**。
* **(C)** $\int_{0}^{1}\frac{G}{(x^{2}+1)^{\frac{3}{2}}}dx$：这是引力竖直分量的形式（$\sin\theta = \frac{1}{\sqrt{x^2+1}}$），竖直分力不做功，**错误**。
* **(D)** $\int_{0}^{1}\frac{G(x+1)}{(x^{2}+1)^{\frac{3}{2}}}dx$：形式不符，**错误**。

---

## 🧠 替代思路：势能法（验证）

保守力做功等于势能的减少量，克服保守力做功等于势能的增加量。
引力势能公式为 $V = -\frac{GMm}{r}$。

1.  **初态**（$P$ 在 $0$）：
    距离 $r_0 = \sqrt{0^2+1^2} = 1$。
    势能 $V_0 = -\frac{G}{1} = -G$。

2.  **末态**（$P$ 在 $1$）：
    距离 $r_1 = \sqrt{1^2+1^2} = \sqrt{2}$。
    势能 $V_1 = -\frac{G}{\sqrt{2}}$。

3.  **做功**：
    $$
    W = \Delta V = V_1 - V_0 = -G\left(\frac{1}{\sqrt{2}} - 1\right) = G\left(1 - \frac{1}{\sqrt{2}}\right)
    $$

让我们计算选项 (B) 的定积分值来验证：
$$
\begin{aligned}
\int_{0}^{1} \frac{Gx}{(x^2+1)^{\frac{3}{2}}} dx &= \frac{G}{2} \int_{0}^{1} (x^2+1)^{-\frac{3}{2}} d(x^2+1) \\
&= \frac{G}{2} \left[ \frac{(x^2+1)^{-\frac{1}{2}}}{-\frac{1}{2}} \right]_{0}^{1} \\
&= -G \left[ \frac{1}{\sqrt{x^2+1}} \right]_{0}^{1} \\
&= -G \left( \frac{1}{\sqrt{2}} - 1 \right) \\
&= G \left( 1 - \frac{1}{\sqrt{2}} \right)
\end{aligned}
$$
结果一致，再次确认选项 (B) 正确。

---

## ✅ 最终答案

**(B)**